---
hide_table_of_contents: true
---

# TP2 üßÆ Analyse de donn√©es

<Row>
    <Column>
        :::info üß† Contexte
        Les donn√©es sont partout autour de nous. Savoir les analyser et en tirer des conclusions est une comp√©tence essentielle dans de nombreux domaines, en particulier en science.

        Dans ce TP, vous allez choisir un ensemble de donn√©es r√©elles, les analyser √† l'aide de Python et produire des visualisations pour illustrer vos d√©couvertes.
        :::
    </Column>
    <Column>
        :::tip üéØ Objectifs p√©dagogiques
        √Ä la fin de ce travail, vous serez capable de :

        - Lire et traiter des fichiers CSV avec Pandas
        - Cr√©er des visualisations de donn√©es avec Matplotlib
        - Interpr√©ter des donn√©es scientifiques r√©elles
        :::
    </Column>
</Row>

:::danger üëÄ Plagiat
# ‚ùóü§ñ üëÄ üö´
Si votre travail est suspect√© de plagiat (code copi√© d'un(e) autre √©tudiant(e), code g√©n√©r√© par IA, notions non
abord√©es en classe, etc.), deux choses peuvent se produire :
        * Le plagiat est prouv√© par nos outils : note de 0, automatiquement.
        * Le plagiat est plut√¥t √©vident, mais une validation est requise : vous serez convoqu√©(e) au bureau de votre
enseignant(e). Vous devrez r√©pondre √† certaines questions pour prouver que vous comprenez et ma√Ætrisez le code
qui a √©t√© utilis√©. Si vous ne r√©ussissez pas √† r√©pondre √† certaines questions, vous aurez la note
de 0 (si vous ne comprenez pas votre propre code, c'est que vous avez plagi√©, d'une mani√®re ou d'une autre).
:::

:::info üìù Pour faire ce TP, vous devez :
- cr√©er un projet PyCharm dans un nouveau r√©pertoire GitHub (sp√©cifi√© par votre prof).
- choisir un des projets propos√©s (voir onglets plus bas).
- suivre le lien donn√© pour chercher, trouver et t√©l√©charger le fichier CSV de donn√©es appropri√© pour le projet choisi.
- √©crire un script Python qui lit le fichier CSV, analyse les donn√©es et produit des figures en utilisant les biblioth√®ques Pandas et Matplotlib.
- sauvegarder les figures produites dans des fichiers PDF dans le r√©pertoire du projet.
- faire au moins 5 commits Git qui d√©crivent l'avancement du projet dans un fran√ßais sans faute [(voir instructions)](https://info.cegepmontpetit.ca/git).
:::

::::warning Fichers de donn√©es volumineux
Les fichiers CSV de donn√©es que vous allez t√©l√©charger seront trop volumineux pour √™tre h√©berg√©s sur GitHub. Ne les ajoutez donc pas dans votre projet Pycharm. Plut√¥t, t√©l√©chargez-les dans le dossier `T√©l√©chargements` de votre ordinateur, puis lisez-les directement √† partir de ce dossier dans votre script Python `analyse.py` :
```python
import pandas as pd
df = pd.read_csv('C:/Users/VOTRENOMUTILISATEUR/Downloads/NOMDUFICHIERDEDONNEES.csv')
```
√âvidemment, remplacez `VOTRENOMUTILISATEUR` par votre matricule √©tudiant et `NOMDUFICHIERDEDONNEES.csv` par le nom du fichier CSV que vous avez t√©l√©charg√©.

:::danger Attention
Excel permet normalement d'explorer le contenu de fichiers CSV.<br />
Cependant, lorsque les fichiers sont trop volumineux (comme c'est souvent le cas pour les fichiers de donn√©es scientifiques), Excel ne peut pas afficher tout le contenu.
#### ‚ÄºÔ∏è N'essayez donc pas d'ouvrir le fichier CSV avec Excel. Cela pourrait m√™me corrompre le fichier.
:::
::::

<Row>
    <Column>
        :::note <Highlight color="tip"><span style={{color: 'white'}}>1 point</span></Highlight> üìÇ Fichiers dans le projet
        Votre projet doit contenir exactement 1 script Python nomm√© `analyse.py` et rien d'autre (ne laissez tra√Æner aucun script inutile).
        ```
        tp2/
        ‚îî‚îÄ‚îÄ analyse.py
        ```
        Les figures g√©n√©r√©es en format PDF par votre programme ne doivent pas √™tre commit√©es dans votre GIT.

        :::
    </Column>
    <Column>
        :::info <Highlight color="tip"><span style={{color: 'white'}}>1 point</span></Highlight> R√©pertoire Git üêô et documentation des fonctions
        - Au moins 5 commits de tailles comparables (il n'y a pas un commit avec tout dedans et les autres vides)
        - Les commits d√©crivent l'avancement du projet dans un fran√ßais sans faute [(voir instructions)](https://info.cegepmontpetit.ca/git)
        - Chaque fonction doit √™tre document√©e √† l'aide d'un  [docstring](/cours/rencontre3?onglet=comments)  dans un fran√ßais sans faute : description de la fonction, param√®tres, limites et exceptions possibles.
        :::
    </Column>
</Row>

:::note <Highlight color="tip"><span style={{color: 'white'}}>1 point</span></Highlight> üèóÔ∏è Structure de votre code
Votre script `analyse.py` doit √™tre structur√© de la mani√®re suivante :
```python
import pandas as pd
import ... # autres importations n√©cessaires

def nom_de_la_fonction_1(df, autres_parametres, ...):
    """
    Docstring
        (description de ce que fait la fonction,
        param√®tres, valeurs retourn√©es, fichiers produits, etc.)
    """
    # Corps de la fonction
    ...

def nom_de_la_fonction_2(df, autres_parametres, ...):
    ...

... # Autres fonctions n√©cessaires

# Lecture du fichier CSV de donn√©es
df = pd.read_csv('C:/Users/VOTRENOMUTILISATEUR/Downloads/NOMDUFICHIERDEDONNEES.csv')

# Nettoyage du DataFrame avant utilisation pour analyse
df = ...

# Appels aux fonctions d√©finies plus haut pour analyser les donn√©es et produire les figures
nom_de_la_fonction_1(df, autres_arguments, ...)
nom_de_la_fonction_2(df, autres_arguments, ...)
...
```
:::

:::note üßÆ Grille d'√©valuation
| Points | Crit√®re                        |
|-------:|--------------------------------|
|    1   | Commits Git et documentation des fonctions dans un fran√ßais sans faute |
|    1   | Fichiers dans le projet (aucun fichier de donn√©es ou autre fichier non requis n'est pr√©sent dans le projet) |
|    1   | Structure du code (utilisation de fonctions bien d√©finies et appel√©es) |
|    3   | Manipulation et analyse statistique des donn√©es afin de r√©pondre √† des questions |
|    4   | Visualisations de donn√©es par des figures pr√©cises |
|    10  | **Total** |
:::

:::danger Fonctionnement global <Highlight color="danger"><span style={{color: 'white'}}>2 points n√©gatifs</span></Highlight>
Le projet fonctionne sans plantage et correctement, et le code est clair et facile √† lire.
Ce pointage fonctionne en n√©gatif.
Si le projet fonctionne correctement en tout temps, vous conservez votre note.
Dans le cas contraire, vous perdez des points avec un maximum de 2.

- Plantage <Highlight color="danger"><span style={{color: 'white'}}>-1 point</span></Highlight>
- Code illisible <Highlight color="danger"><span style={{color: 'white'}}>-1 point</span></Highlight>
- Information affich√©e incoh√©rente <Highlight color="danger"><span style={{color: 'white'}}>-1 point</span></Highlight>
- Autre cas...
:::

:::tip
- Commencez par explorer les donn√©es pour comprendre leur structure et leur contenu, en utilisant des fonctions comme `head()`, `info()` et `describe()` de Pandas.
- Nettoyez les donn√©es si n√©cessaire (gestion des valeurs manquantes, conversion des types de donn√©es, etc.).
- Utilisez des fonctions Pandas pour effectuer des analyses statistiques de base (moyennes, m√©dianes, √©carts-types, etc.).
- Cr√©ez des visualisations claires et informatives avec Matplotlib, en utilisant des graphiques adapt√©s aux types de donn√©es analys√©es (graphique lin√©aire, diagramme √† barres, histogramme, etc.).
:::

### Choisissez un des projets suivants :

<Tabs>

    <TabItem value="velos" label="üìå Projet v√©los üö≤" default>

        ## Projet : üö≤ Comptages des v√©los sur les pistes cyclables de Montr√©al

        :::info üìù Description
        - La Ville de Montr√©al a install√© des compteurs de v√©los sur plusieurs pistes cyclables pour suivre l'utilisation du r√©seau cyclable. L'objectif de ce projet est d'analyser les donn√©es de comptage des v√©los pour identifier les tendances saisonni√®res, hebdomadaires et journali√®res dans l'utilisation des pistes cyclables.
        :::

        :::note üî¢ Source de donn√©es
        - Donn√©es Qu√©bec : [Comptages des v√©los sur les pistes cyclables de Montr√©al](https://www.donneesquebec.ca/recherche/dataset/vmtl-velos-comptage)
        - T√©l√©chargez le fichier <i>V√©los - comptage sur les pistes cyclables, 2024</i>.
        - On veut analyser les donn√©es de l'ann√©e 2024 (car celles de 2025 ne sont pas encore compl√®tes).
        :::

        :::info <Highlight color="tip"><span style={{color: 'white'}}>3 points</span></Highlight> üîç √âl√©ments √† analyser
        √âcrivez du code pour r√©pondre aux questions suivantes (√©crivez une fonction par question) :
        - Quelles sont les variables pr√©sentes dans le jeu de donn√©es?
        - Combien y a-t-il d'enregistrements (lignes) dans le jeu de donn√©es?
        - Quel est le plus grand nombre de v√©los compt√©s en une seule fois? √Ä quel moment cela s'est-il produit (date, heure, emplacement)?
        - Quel est le total de v√©los compt√©s pour l'ann√©e 2024?
        - Combien y a-t-il de compteurs de v√©los diff√©rents?
        - Quelle est la fr√©quence de prise des donn√©es dans le fichier (ex : environ toutes les heures, toutes les 15 minutes, etc.)?
        :::

        :::::info <Highlight color="tip"><span style={{color: 'white'}}>4 points</span></Highlight> üìä Figures √† produire
        <Row>
            <Column>
                ::::note Figure 1
                <img src={require('/img/tp2/p1/figure1.png').default}/>
                :::tip Astuces
                - [Cr√©ez une nouvelle colonne](/cours/rencontre11?onglet=pandas#-cr%C3%A9er-de-nouvelles-colonnes) repr√©sentant l'heure sans les minutes et secondes.
                - Regroupez vos donn√©es et g√©n√©rez des statistiques avant la visualisation.
                :::
                ::::
            </Column>
            <Column>
                ::::note Figure 2
                <img src={require('/img/tp2/p1/figure2.png').default}/>
                :::tip Astuces
                - Cr√©ez un dictionnaire ayant comme cl√© le num√©ro du mois et comme valeur son nom.
                - Utilisez la m√©thode `map` pour cr√©er une nouvelle colonne pour le nom du mois.
                :::
                ::::
            </Column>
        </Row>
        <Row>
            <Column>
                ::::note Figure 3
                <img src={require('/img/tp2/p1/figure3.png').default}/>
                :::tip Astuces
                - Utilisez un tableau crois√© dynamique (pivot table).
                :::
                ::::
            </Column>
            <Column>
                ::::note Figure 4
                <img src={require('/img/tp2/p1/figure4.png').default}/>
                :::tip Astuces
                - Regroupez les donn√©es par compteur, puis calculez la moyenne.
                - La taille des points est le nombre moyen de passages x 10.
                - La transparence est de 50%.
                :::
                ::::
            </Column>
        </Row>
        :::::

    </TabItem>

    <TabItem value="p2" label="üìå Projet arbres üå≥">

        ## Projet : üå≥ Analyse des arbres r√©pertori√©s dans la Ville de Qu√©bec

        :::info üìù Description
        - La Ville de Qu√©bec a r√©pertori√© les arbres situ√©s sur son territoire. L'objectif de ce projet est d'analyser ces donn√©es pour comprendre la r√©partition des esp√®ces d'arbres, leur taille, etc.
        :::

        :::note üî¢ Source de donn√©es
        - Donn√©es Qu√©bec : [Arbres r√©pertori√©s dans la Ville de Qu√©bec](https://www.donneesquebec.ca/recherche/dataset/vque_26)
        - T√©l√©chargez le fichier CSV.
        :::

        :::info <Highlight color="tip"><span style={{color: 'white'}}>3 points</span></Highlight> üîç √âl√©ments √† analyser
        √âcrivez du code pour r√©pondre aux questions suivantes (√©crivez une fonction par question) :
        - Quelles sont les variables pr√©sentes dans le jeu de donn√©es?
        - Combien y a-t-il d'enregistrements (lignes) dans le jeu de donn√©es?
        - Combien y a-t-il d'esp√®ces d'arbres diff√©rentes?
        - Quels noms d'esp√®ces d'arbres font moins de 20 caract√®res?
        - De quelle esp√®ce est l'arbre avec le tronc le plus gros?
        - Quel est le diam√®tre moyen du tronc des feuillus dans la ville de Qu√©bec? Des conif√®res?
        :::

        :::::info <Highlight color="tip"><span style={{color: 'white'}}>4 points</span></Highlight> üìä Figures √† produire
        <Row>
            <Column>
                ::::note Figure 1
                <img src={require('/img/tp2/p2/figure1.png').default}/>
                :::tip Astuces
                - Pour mettre les √©tiquettes de l'axe des x √† 45$^\circ$, utilisez l'instruction `plt.xticks(rotation=45, ha='right')`
                :::
                ::::
            </Column>
            <Column>
                ::::note Figure 2
                <img src={require('/img/tp2/p2/figure2.png').default}/>
                ::::
            </Column>
        </Row>
        <Row>
            <Column>
                ::::note Figure 3
                <img src={require('/img/tp2/p2/figure3.png').default}/>
                :::tip Astuces
                - R√©cup√©rez une liste des types d'arbres.
                - Pour chacun des types d'arbres de la liste, r√©cup√©rez les donn√©es puis ajoutez-les au graphique √† l'aide d'un nuage de points.
                - Lors de la cr√©ation des nuages de points, ajoutez le param√®tre `s=0.01`.
                - **Pour l'affichage de la l√©gende, utilisez l'instruction `plt.legend(title="Type d'arbre", markerscale=50)`**
                :::
                ::::
            </Column>
            <Column>
                ::::note Figure 4
                <img src={require('/img/tp2/p2/figure4.png').default}/>
                :::tip Astuces
                - R√©cup√©rez une liste des esp√®ces pour la r√©gion sp√©cifi√©e.
                - Pour chacun des esp√®ces de la liste, r√©cup√©rez les donn√©es puis ajoutez-les au graphique √† l'aide d'un nuage de points.
                - **Pour l'affichage de la l√©gende, utilisez l'instruction `plt.legend(title="Type d'arbre", loc='lower left', prop={'size': 6}, title_fontsize=7, markerscale=0.6)`**
                :::
                ::::
            </Column>
        </Row>
        :::::

    </TabItem>

</Tabs>
